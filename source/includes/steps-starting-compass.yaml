title: Enter connection information.
level: 4
ref: compass-enter-connection-info
content: |

    Once Compass is :doc:`running </install>`, an
    initial connection dialog appears:

    .. figure:: /images/compass/connect-to-host.png
      :figwidth: 626px

    .. list-table::
       :header-rows: 1
       :widths: 40 60
       
       * - Field
         - Description

       * - Hostname

         - The hostname of the machine where the ``mongod`` instance is
           running.

       * - Port
         - The port on which ``mongod`` is running.

       * - Authentication

         - The authentication to use if the ``mongod``
           instance requires authentication.

           Supported authentication mechanisms are:

           - MongoDB-CR
           - SCRAM-SHA-1
           - Kerberos
           - LDAP

           For MongoDB-CR and SCRAM-SHA-1, select :guilabel:`Username /
           Password`.


       * - SSL
       
         - Select whether Compass should connect to the target host via
           SSL or not. For TLS/SSL connections to Atlas, select
           :guilabel:`Use System CA/Atlas Deployment`.



       * - SSL
       
         - Select whether Compass should connect to the target host via
           SSL or not. For TLS/SSL connections to Atlas, select
           :guilabel:`Use System CA/Atlas Deployment`.

           - Certificate Authority File : Provide certificate(s) of one or more Certificate Authorities that you trust to validate the server's identity.
              For production use, your MongoDB deployment should use valid certificates generated and signed by a single certificate authority. You or your organization can generate and maintain an independent certificate authority, or use certificates generated by a third-party SSL vendor.

              To verify the identity of the MongoDB deployment you connect to, provide one or more certificates of trusted Certificate Authorities.

           - Client Certificate : If the server is configured to perform certificate validation, you need to provide a certificate here to identify yourself to the server.
             Typical file extensions for the certificate are .crt or .pem.

           - Client Private Key : If the server is configured to perform certificate validation, you need to provide the private key here to identify yourself to the server.
             Typical file extensions for the private key are .key or .pem.


       * - SSH tunnel
         - Select whether Compass should connect to a MongoDB cluster via SSH tunnel, which automatically start when you connect to MongoDB, and stop when you disconnect. If selected, choose either a password or an identity file to provide authentication.

           .. figure:: /images/compass/ssh-tunnel-support.png
             :figwidth: 579px

           Enter information for the SSH tunnel.
                      
           - SSH Hostname : Provide the hostname of the remote machine you want to connect to.
               This is the unique identifier (Fully Qualified Domain Name, or FQDN) for the machine to be accessed.

           - SSH Identity File : Select the file from which the identity (private key) for SSH public key authentication is read.

   
             On OS X using OpenSSH, identity files are found in ~/.ssh. By default, the filenames of private keys are one of the following.

               
                - id_rsa
                - id_ecdsa,
                - id_ed25519
                - id_rsa
                 

             On Windows, the location of identify files depends on your choice of SSH client. PuTTY is one commonly used SSH client.

           - SSH Passphrase : Optionally provide the passphrase used to decrypt your private keys (stored in the specified identity file).     
               A passphrase is used to decrypt your private keys, providing an extra layer of security for an SSH connection. This field is not required.

           - SSH Password : The password used to secure the SSH connection.
               This is required if you are not using an identity file.

           - SSH Tunnel Port : Provide the port used for the SSH connection.
               This defaults to 22, the standard port for SSH.

           - SSH Username : The username of the profile to log into on the remote system.
               This will be the user for which you want to establish the SSH connection.

           .. tip:: Enter the bastion (jumpbox) hostname for the :guilabel:`SSH Hostname`.

           To use an SSH tunnel through a bastion host, the ssh
           configuration on the bastion host must allow TCP port
           forwarding; i.e., the ``AllowTcpForwarding`` directive in
           the :file:`/etc/ssh/sshd_config` file is set to ``yes``. If
           ``AllowTcpForwarding`` is not set to ``yes``, set to ``yes``
           and restart the ssh daemon (``sudo service sshd restart``).

           Instead of creating the SSH tunnel through the Compass UI, you can also create
           the tunnel manually from the command line:

           .. code-block:: sh

              ssh -L <local_port>:<mongodb_hostname>:<mongodb_port> <user>@<bastion_hostname> -fN

           .. example::

              If you have a :program:`mongod` instance running on
              (internal) ``hostname-a.com`` on port 27017, and the
              bastion host is ``hostname-b.com`` with user name
              ``ec2-user``, you can build the tunnel via

              .. code-block:: sh

                 ssh -L 27000:hostname-a.com:27017 ec2-user@hostname-b.com -fN

              Using this SSH tunnel, you can now connect Compass (or
              the :program:`mongo` shell) to ``localhost:27000`` to
              connect to the :program:`mongod` instance running on
              ``hostname-a.com``.


       * - Favorite Name 
       
         - *Optional*. A name for the connection. When you use Compass in the
           future, previous connections appear in the left pane of this
           window under Favorites.
---
title: Connect.
level: 4
ref: compass-connect
content: |
   When the connection information is complete, click the Connect
   button to launch the main Compass window.
...
